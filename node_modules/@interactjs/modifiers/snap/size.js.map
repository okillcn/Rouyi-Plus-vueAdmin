{
	"version": 3,
	"names": [
		"extend",
		"is",
		"makeModifier",
		"snap",
		"start",
		"arg",
		"state",
		"edges",
		"options",
		"targets",
		"relativePoints",
		"x",
		"left",
		"y",
		"top",
		"offset",
		"origin",
		"range",
		"targetFields",
		"offsets",
		"set",
		"interaction",
		"coords",
		"relative",
		"snapTarget",
		"target",
		"func",
		"xField",
		"yField",
		"push",
		"returnValue",
		"defaults",
		"Infinity",
		"endOnly",
		"enabled",
		"snapSize"
	],
	"sources": [
		"size.ts"
	],
	"sourcesContent": [
		"// This module allows snapping of the size of targets during resize\n// interactions.\n\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\n\nimport { makeModifier } from '../base'\nimport type { ModifierArg } from '../types'\n\nimport type { SnapOptions, SnapState } from './pointer'\nimport { snap } from './pointer'\n\nexport type SnapSizeOptions = Pick<SnapOptions, 'targets' | 'offset' | 'endOnly' | 'range' | 'enabled'>\n\nfunction start (arg: ModifierArg<SnapState>) {\n  const { state, edges } = arg\n  const { options } = state\n\n  if (!edges) {\n    return null\n  }\n\n  arg.state = {\n    options: {\n      targets: null,\n      relativePoints: [\n        {\n          x: edges.left ? 0 : 1,\n          y: edges.top ? 0 : 1,\n        },\n      ],\n      offset: options.offset || 'self',\n      origin: { x: 0, y: 0 },\n      range: options.range,\n    },\n  }\n\n  state.targetFields = state.targetFields || [\n    ['width', 'height'],\n    ['x', 'y'],\n  ]\n\n  snap.start(arg)\n  state.offsets = arg.state.offsets\n\n  arg.state = state\n}\n\nfunction set (arg) {\n  const { interaction, state, coords } = arg\n  const { options, offsets } = state\n  const relative = {\n    x: coords.x - offsets[0].x,\n    y: coords.y - offsets[0].y,\n  }\n\n  state.options = extend({}, options)\n  state.options.targets = []\n\n  for (const snapTarget of options.targets || []) {\n    let target\n\n    if (is.func(snapTarget)) {\n      target = snapTarget(relative.x, relative.y, interaction)\n    } else {\n      target = snapTarget\n    }\n\n    if (!target) {\n      continue\n    }\n\n    for (const [xField, yField] of state.targetFields) {\n      if (xField in target || yField in target) {\n        target.x = target[xField]\n        target.y = target[yField]\n\n        break\n      }\n    }\n\n    state.options.targets.push(target)\n  }\n\n  const returnValue = snap.set(arg)\n\n  state.options = options\n\n  return returnValue\n}\n\nconst defaults: SnapSizeOptions = {\n  range: Infinity,\n  targets: null,\n  offset: null,\n  endOnly: false,\n  enabled: false,\n}\n\nconst snapSize = {\n  start,\n  set,\n  defaults,\n}\n\nexport default makeModifier(snapSize, 'snapSize')\nexport { snapSize }\n"
	],
	"mappings": "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"
}