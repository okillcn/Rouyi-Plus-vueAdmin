{
	"version": 3,
	"names": [
		"domUtils",
		"extend",
		"is",
		"copyAction",
		"InteractableMethods",
		"install",
		"scope",
		"interactStatic",
		"interact",
		"defaults",
		"usePlugin",
		"base",
		"actionChecker",
		"styleCursor",
		"perAction",
		"manualStart",
		"max",
		"Infinity",
		"maxPerElement",
		"allowFrom",
		"ignoreFrom",
		"mouseButtons",
		"maxInteractions",
		"newValue",
		"autoStart",
		"withinInteractionLimit",
		"cursorElement",
		"prepareOnDown",
		"interaction",
		"pointer",
		"event",
		"eventTarget",
		"interacting",
		"actionInfo",
		"getActionInfo",
		"prepare",
		"prepareOnMove",
		"pointerType",
		"pointerIsDown",
		"startOnMove",
		"arg",
		"pointerWasMoved",
		"prepared",
		"name",
		"fire",
		"interactable",
		"actionName",
		"options",
		"element",
		"stop",
		"start",
		"setInteractionCursor",
		"clearCursorOnStop",
		"setCursor",
		"validateAction",
		"action",
		"testIgnoreAllow",
		"enabled",
		"validateMatches",
		"matches",
		"matchElements",
		"i",
		"len",
		"length",
		"match",
		"matchElement",
		"matchAction",
		"getAction",
		"pushMatches",
		"push",
		"interactables",
		"forEachMatch",
		"parentNode",
		"rect",
		"getRect",
		"maxActions",
		"autoStartMax",
		"activeInteractions",
		"interactableCount",
		"elementCount",
		"interactions",
		"list",
		"otherAction",
		"number",
		"cursor",
		"prevCursorElement",
		"style",
		"ownerDocument",
		"documentElement",
		"cursorChecker",
		"func",
		"_interacting",
		"actions",
		"map",
		"getCursor",
		"id",
		"before",
		"listeners"
	],
	"sources": [
		"base.ts"
	],
	"sourcesContent": [
		"import type { Interactable } from '@interactjs/core/Interactable'\nimport type { Interaction } from '@interactjs/core/Interaction'\nimport type { Scope, SignalArgs, Plugin } from '@interactjs/core/scope'\nimport type {\n  CursorChecker,\n  PointerType,\n  PointerEventType,\n  Element,\n  ActionName,\n  ActionProps,\n} from '@interactjs/core/types'\nimport * as domUtils from '@interactjs/utils/domUtils'\nimport extend from '@interactjs/utils/extend'\nimport is from '@interactjs/utils/is'\nimport { copyAction } from '@interactjs/utils/misc'\n\nimport InteractableMethods from './InteractableMethods'\n\ndeclare module '@interactjs/core/InteractStatic' {\n  export interface InteractStatic {\n    maxInteractions: (newValue: any) => any\n  }\n}\n\ndeclare module '@interactjs/core/scope' {\n  interface Scope {\n    autoStart: AutoStart\n  }\n\n  interface SignalArgs {\n    'autoStart:before-start': Omit<SignalArgs['interactions:move'], 'interaction'> & {\n      interaction: Interaction<ActionName>\n    }\n    'autoStart:prepared': { interaction: Interaction }\n    'auto-start:check': CheckSignalArg\n  }\n}\n\ndeclare module '@interactjs/core/options' {\n  interface BaseDefaults {\n    actionChecker?: any\n    cursorChecker?: any\n    styleCursor?: any\n  }\n\n  interface PerActionDefaults {\n    manualStart?: boolean\n    max?: number\n    maxPerElement?: number\n    allowFrom?: string | Element\n    ignoreFrom?: string | Element\n    cursorChecker?: CursorChecker\n\n    // only allow left button by default\n    // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n    // TODO: docst\n    mouseButtons?: 0 | 1 | 2 | 4 | 8 | 16\n  }\n}\n\ninterface CheckSignalArg {\n  interactable: Interactable\n  interaction: Interaction\n  element: Element\n  action: ActionProps<ActionName>\n  buttons: number\n}\n\nexport interface AutoStart {\n  // Allow this many interactions to happen simultaneously\n  maxInteractions: number\n  withinInteractionLimit: typeof withinInteractionLimit\n  cursorElement: Element\n}\n\nfunction install (scope: Scope) {\n  const { interactStatic: interact, defaults } = scope\n\n  scope.usePlugin(InteractableMethods)\n\n  defaults.base.actionChecker = null\n  defaults.base.styleCursor = true\n\n  extend(defaults.perAction, {\n    manualStart: false,\n    max: Infinity,\n    maxPerElement: 1,\n    allowFrom: null,\n    ignoreFrom: null,\n\n    // only allow left button by default\n    // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n    mouseButtons: 1,\n  })\n\n  /**\n   * Returns or sets the maximum number of concurrent interactions allowed.  By\n   * default only 1 interaction is allowed at a time (for backwards\n   * compatibility). To allow multiple interactions on the same Interactables and\n   * elements, you need to enable it in the draggable, resizable and gesturable\n   * `'max'` and `'maxPerElement'` options.\n   *\n   * @alias module:interact.maxInteractions\n   *\n   * @param {number} [newValue] Any number. newValue <= 0 means no interactions.\n   */\n  interact.maxInteractions = (newValue: number) => maxInteractions(newValue, scope)\n\n  scope.autoStart = {\n    // Allow this many interactions to happen simultaneously\n    maxInteractions: Infinity,\n    withinInteractionLimit,\n    cursorElement: null,\n  }\n}\n\nfunction prepareOnDown (\n  { interaction, pointer, event, eventTarget }: SignalArgs['interactions:down'],\n  scope: Scope,\n) {\n  if (interaction.interacting()) return\n\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget, scope)\n  prepare(interaction, actionInfo, scope)\n}\n\nfunction prepareOnMove (\n  { interaction, pointer, event, eventTarget }: SignalArgs['interactions:move'],\n  scope: Scope,\n) {\n  if (interaction.pointerType !== 'mouse' || interaction.pointerIsDown || interaction.interacting()) return\n\n  const actionInfo = getActionInfo(interaction, pointer, event, eventTarget as Element, scope)\n  prepare(interaction, actionInfo, scope)\n}\n\nfunction startOnMove (arg: SignalArgs['interactions:move'], scope: Scope) {\n  const { interaction } = arg\n\n  if (\n    !interaction.pointerIsDown ||\n    interaction.interacting() ||\n    !interaction.pointerWasMoved ||\n    !interaction.prepared.name\n  ) {\n    return\n  }\n\n  scope.fire('autoStart:before-start', arg)\n\n  const { interactable } = interaction\n  const actionName = (interaction as Interaction<ActionName>).prepared.name\n\n  if (actionName && interactable) {\n    // check manualStart and interaction limit\n    if (\n      interactable.options[actionName].manualStart ||\n      !withinInteractionLimit(interactable, interaction.element, interaction.prepared, scope)\n    ) {\n      interaction.stop()\n    } else {\n      interaction.start(interaction.prepared, interactable, interaction.element)\n      setInteractionCursor(interaction, scope)\n    }\n  }\n}\n\nfunction clearCursorOnStop ({ interaction }: { interaction: Interaction }, scope: Scope) {\n  const { interactable } = interaction\n\n  if (interactable && interactable.options.styleCursor) {\n    setCursor(interaction.element, '', scope)\n  }\n}\n\n// Check if the current interactable supports the action.\n// If so, return the validated action. Otherwise, return null\nfunction validateAction<T extends ActionName> (\n  action: ActionProps<T>,\n  interactable: Interactable,\n  element: Element,\n  eventTarget: Node,\n  scope: Scope,\n) {\n  if (\n    interactable.testIgnoreAllow(interactable.options[action.name], element, eventTarget) &&\n    interactable.options[action.name].enabled &&\n    withinInteractionLimit(interactable, element, action, scope)\n  ) {\n    return action\n  }\n\n  return null\n}\n\nfunction validateMatches (\n  interaction: Interaction,\n  pointer: PointerType,\n  event: PointerEventType,\n  matches: Interactable[],\n  matchElements: Element[],\n  eventTarget: Node,\n  scope: Scope,\n) {\n  for (let i = 0, len = matches.length; i < len; i++) {\n    const match = matches[i]\n    const matchElement = matchElements[i]\n    const matchAction = match.getAction(pointer, event, interaction, matchElement)\n\n    if (!matchAction) {\n      continue\n    }\n\n    const action = validateAction<ActionName>(matchAction, match, matchElement, eventTarget, scope)\n\n    if (action) {\n      return {\n        action,\n        interactable: match,\n        element: matchElement,\n      }\n    }\n  }\n\n  return { action: null, interactable: null, element: null }\n}\n\nfunction getActionInfo (\n  interaction: Interaction,\n  pointer: PointerType,\n  event: PointerEventType,\n  eventTarget: Node,\n  scope: Scope,\n) {\n  let matches: Interactable[] = []\n  let matchElements: Element[] = []\n\n  let element = eventTarget as Element\n\n  function pushMatches (interactable: Interactable) {\n    matches.push(interactable)\n    matchElements.push(element)\n  }\n\n  while (is.element(element)) {\n    matches = []\n    matchElements = []\n\n    scope.interactables.forEachMatch(element, pushMatches)\n\n    const actionInfo = validateMatches(\n      interaction,\n      pointer,\n      event,\n      matches,\n      matchElements,\n      eventTarget,\n      scope,\n    )\n\n    if (actionInfo.action && !actionInfo.interactable.options[actionInfo.action.name].manualStart) {\n      return actionInfo\n    }\n\n    element = domUtils.parentNode(element) as Element\n  }\n\n  return { action: null, interactable: null, element: null }\n}\n\nfunction prepare (\n  interaction: Interaction,\n  {\n    action,\n    interactable,\n    element,\n  }: {\n    action: ActionProps<any>\n    interactable: Interactable\n    element: Element\n  },\n  scope: Scope,\n) {\n  action = action || { name: null }\n\n  interaction.interactable = interactable\n  interaction.element = element\n  copyAction(interaction.prepared, action)\n\n  interaction.rect = interactable && action.name ? interactable.getRect(element) : null\n\n  setInteractionCursor(interaction, scope)\n\n  scope.fire('autoStart:prepared', { interaction })\n}\n\nfunction withinInteractionLimit<T extends ActionName> (\n  interactable: Interactable,\n  element: Element,\n  action: ActionProps<T>,\n  scope: Scope,\n) {\n  const options = interactable.options\n  const maxActions = options[action.name].max\n  const maxPerElement = options[action.name].maxPerElement\n  const autoStartMax = scope.autoStart.maxInteractions\n  let activeInteractions = 0\n  let interactableCount = 0\n  let elementCount = 0\n\n  // no actions if any of these values == 0\n  if (!(maxActions && maxPerElement && autoStartMax)) {\n    return false\n  }\n\n  for (const interaction of scope.interactions.list) {\n    const otherAction = interaction.prepared.name\n\n    if (!interaction.interacting()) {\n      continue\n    }\n\n    activeInteractions++\n\n    if (activeInteractions >= autoStartMax) {\n      return false\n    }\n\n    if (interaction.interactable !== interactable) {\n      continue\n    }\n\n    interactableCount += otherAction === action.name ? 1 : 0\n\n    if (interactableCount >= maxActions) {\n      return false\n    }\n\n    if (interaction.element === element) {\n      elementCount++\n\n      if (otherAction === action.name && elementCount >= maxPerElement) {\n        return false\n      }\n    }\n  }\n\n  return autoStartMax > 0\n}\n\nfunction maxInteractions (newValue: any, scope: Scope) {\n  if (is.number(newValue)) {\n    scope.autoStart.maxInteractions = newValue\n\n    return this\n  }\n\n  return scope.autoStart.maxInteractions\n}\n\nfunction setCursor (element: Element, cursor: string, scope: Scope) {\n  const { cursorElement: prevCursorElement } = scope.autoStart\n\n  if (prevCursorElement && prevCursorElement !== element) {\n    prevCursorElement.style.cursor = ''\n  }\n\n  element.ownerDocument.documentElement.style.cursor = cursor\n  element.style.cursor = cursor\n  scope.autoStart.cursorElement = cursor ? element : null\n}\n\nfunction setInteractionCursor<T extends ActionName> (interaction: Interaction<T>, scope: Scope) {\n  const { interactable, element, prepared } = interaction\n\n  if (!(interaction.pointerType === 'mouse' && interactable && interactable.options.styleCursor)) {\n    // clear previous target element cursor\n    if (scope.autoStart.cursorElement) {\n      setCursor(scope.autoStart.cursorElement, '', scope)\n    }\n\n    return\n  }\n\n  let cursor = ''\n\n  if (prepared.name) {\n    const cursorChecker = interactable.options[prepared.name].cursorChecker\n\n    if (is.func(cursorChecker)) {\n      cursor = cursorChecker(prepared, interactable, element, interaction._interacting)\n    } else {\n      cursor = scope.actions.map[prepared.name].getCursor(prepared)\n    }\n  }\n\n  setCursor(interaction.element, cursor || '', scope)\n}\n\nconst autoStart: Plugin = {\n  id: 'auto-start/base',\n  before: ['actions'],\n  install,\n  listeners: {\n    'interactions:down': prepareOnDown,\n    'interactions:move': (arg, scope) => {\n      prepareOnMove(arg, scope)\n      startOnMove(arg, scope)\n    },\n    'interactions:stop': clearCursorOnStop,\n  },\n  maxInteractions,\n  withinInteractionLimit,\n  validateAction,\n}\n\nexport default autoStart\n"
	],
	"mappings": "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"
}